{"version":3,"sources":["testPagination.js"],"names":[],"mappings":";;AAAA;;;AAGA,IAAI,aAAW,QAAQ,6CAAR,CAAf;;AAIA,QAAQ,cAAR,GAAuB,UAAS,IAAT,EAAc;AACjC,SAAK,MAAL,CAAY,CAAZ;;AAEA,QAAI,QAAM,GAAV;AACA,QAAI,WAAS,CAAb;AACA;AACA,QAAI,aAAW,EAAf;;AAEA;AACA,QAAI,UAAQ,CAAC,CAAb;AACA,QAAI,SAAO,WAAW,UAAX,CAAsB,KAAtB,EAA4B,OAA5B,EAAoC,QAApC,EAA6C,UAA7C,CAAX;AACA,SAAK,KAAL,CAAW,OAAO,QAAP,EAAX,EAA6B,EAAC,OAAM,CAAP,EAAS,KAAI,EAAb,EAAgB,SAAQ,CAAxB,EAA0B,cAAa,KAAvC,EAA6C,UAAS,IAAtD,GAA4D,QAA5D,EAA7B,EAAoG,wBAApG;;AAEA,QAAI,UAAQ,EAAZ;AACA,QAAI,SAAO,WAAW,UAAX,CAAsB,KAAtB,EAA4B,OAA5B,EAAoC,QAApC,EAA6C,UAA7C,CAAX;AACA,SAAK,KAAL,CAAW,OAAO,QAAP,EAAX,EAA6B,EAAC,OAAM,EAAP,EAAU,KAAI,EAAd,EAAiB,SAAQ,EAAzB,EAA4B,cAAa,IAAzC,EAA8C,UAAS,KAAvD,GAA8D,QAA9D,EAA7B,EAAsG,uBAAtG;;AAEA,QAAI,UAAQ,EAAZ;AACA,QAAI,SAAO,WAAW,UAAX,CAAsB,KAAtB,EAA4B,OAA5B,EAAoC,QAApC,EAA6C,UAA7C,CAAX;AACA,YAAQ,GAAR,CAAY,OAAO,QAAP,EAAZ;AACA;AACA,SAAK,KAAL,CAAW,KAAK,SAAL,CAAe,MAAf,CAAX,EAAkC,KAAK,SAAL,CAAe,EAAC,OAAM,EAAP,EAAU,KAAI,EAAd,EAAiB,SAAQ,EAAzB,EAA6B,cAAa,IAA1C,EAA+C,UAAS,IAAxD,EAAf,CAAlC,EAAgH,gBAAhH;;AAEA,QAAI,QAAM,CAAV;AACA,QAAI,UAAQ,CAAZ;AACA,QAAI,SAAO,WAAW,UAAX,CAAsB,KAAtB,EAA4B,OAA5B,EAAoC,QAApC,EAA6C,UAA7C,CAAX;AACA;AACA,SAAK,KAAL,CAAW,KAAK,SAAL,CAAe,MAAf,CAAX,EAAkC,KAAK,SAAL,CAAe,EAAC,OAAM,CAAP,EAAS,KAAI,CAAb,EAAe,SAAQ,CAAvB,EAA0B,cAAa,KAAvC,EAA6C,UAAS,KAAtD,EAAf,CAAlC,EAA+G,eAA/G;AACA,SAAK,IAAL;AACH,CA7BD","file":"testPagination-compiled.js","sourcesContent":["/**\r\n * Created by wzhan039 on 2015-08-19.\r\n */\r\nvar testModule=require('../../../server/assist/component/pagination');\r\n\r\n\r\n\r\nexports.testPagination=function(test){\r\n    test.expect(4);\r\n\r\n    var total=187\r\n    var pageSize=5;\r\n    //总共37页+2条记录\r\n    var pageLength=10;\r\n\r\n    //检测页码超出范围，是否自动设成第一、最后也\r\n    var curPage=-1\r\n    var result=testModule.pagination(total,curPage,pageSize,pageLength);\r\n    test.equal(result.toString(),{start:1,end:10,curPage:1,showPrevious:false,showNext:true}.toString(),'cant set to first page');\r\n\r\n    var curPage=39\r\n    var result=testModule.pagination(total,curPage,pageSize,pageLength);\r\n    test.equal(result.toString(),{start:31,end:38,curPage:38,showPrevious:true,showNext:false}.toString(),'cant set to last page');\r\n\r\n    var curPage=20\r\n    var result=testModule.pagination(total,curPage,pageSize,pageLength);\r\n    console.log(result.toString())\r\n    //test.equal(Object.is(result,{start:11,end:20,curPage:20, showPrevious:true,showNext:true}),true,'page 20 failed');\r\n    test.equal(JSON.stringify(result),JSON.stringify({start:11,end:20,curPage:20, showPrevious:true,showNext:true}),'page 20 failed');\r\n\r\n    var total=3;\r\n    var curPage=1\r\n    var result=testModule.pagination(total,curPage,pageSize,pageLength);\r\n    //console.log(result)\r\n    test.equal(JSON.stringify(result),JSON.stringify({start:1,end:1,curPage:1, showPrevious:false,showNext:false}),'page 1 failed');\r\n    test.done();\r\n}"]}